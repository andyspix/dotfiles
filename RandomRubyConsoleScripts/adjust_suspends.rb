gentrifi = Device.where(device_name: %w( 89148000005843142050 89148000005843142043 89148000005843247370 89148000005843247362 89148000005843247354 89148000005843247347 89148000005843247339 A1000013CDB838 A1000013CDB882 A1000013CDBC07 A1000036906CC8 A1000036906CCE A1000036906D62 A1000036906DFC A1000036907047 A10000369070A9 A1000036908405 A100003690C76D A10000369F61D2 A10000369F6218 A10000369F6257 A10000369F6276 A1000043848CE7 A1000043848F2D A1000043848F3E A1000043848F57 A1000043849115 A100004384912F A1000043849235 A10000438494CD A1000043849501 A100004384950E A100004384982B A10000438498F3 A1000043849AFD A1000043849C2A A1000043849DF6 A1000043849F2F A100004384D7BA A100004384DE2B A100004384DE46 A100004430A4EF A100004430A528 A100004430A572 A100004430A573 A100004430A574 A100004430A578 A100004430A57A A100004430A58F A100004430A5D3 A100004430A5D5 A100004430A6E3 A100004430A99D A100004430AAC0 A100004430AAED A100004430AAF5 A100004430AB1F A100004430AB98 A100004430AC25 A100004430AC8A A100004430AC9B A100004430AC9C A100004430ACC2 A1000044321651));0

ojo = Account.find(853).devices.where(state: 'suspended').select { |d| d.state_change_histories.last.created_at > Time.now.days_ago(1) };0

gentrifi.each { |d| sch = d.state_change_histories.last; sch.created_at = Date.today.days_ago(1).end_of_day; sch.save }
ojo.each      { |d| sch = d.state_change_histories.last; sch.created_at = Date.today.days_ago(1).end_of_day; sch.save }

